<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Résolution de Labyrinthe</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="style.css">
</head>
<body class="antialiased">

	<div class="container mx-auto p-4 md:p-8">
		
		<header class="text-center mb-8">
			<h1 class="text-3xl md:text-4xl font-bold accent-color mb-2">Exploration et Résolution de Labyrinthes</h1>
			<p class="text-xl text-gray-700">Approche évolutionnaire par algorithme génétique</p>
		</header>

		<main>
			<div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
				
				<div id="generationPanel" class="order-1 md:order-2 md:col-start-2 lg:order-1 lg:col-start-auto">
					<div class="control-panel-bg p-6 rounded-lg shadow-md border border-color sticky top-8">
						<h2 class="text-xl font-bold mb-4 text-gray-800">Génération du Labyrinthe</h2>
						<div class="space-y-6 md:max-h-[calc(100vh-200px)] md:overflow-y-auto overflow-y-visible">
							<div>
								<label for="mazeAlgorithm" class="block text-sm font-medium text-gray-700">Algorithme de Génération:</label>
								<select id="mazeAlgorithm" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-accent-color focus:border-accent-color">
									<option value="dfs">DFS (Parcours en Profondeur)</option>
									<option value="prim">Prim's Algorithm</option>
									<option value="kruskal">Kruskal's Algorithm</option>
									<option value="recursiveBacktracker">Recursive Backtracker</option>
									<option value="sidewinder">Sidewinder Algorithm</option>
									<option value="eller">Eller's Algorithm</option>
									<option value="wilson">Wilson's Algorithm</option>
									<option value="growingTree">Growing Tree Algorithm</option>
									<option value="binaryTree">Binary Tree Algorithm</option>
									<option value="huntAndKill">Hunt-and-Kill Algorithm</option>
									<option value="manual">Dessin manuel</option>
								</select>
								<p class="text-xs text-gray-500 mt-1">Choisissez l'algorithme pour générer le labyrinthe.</p>
							</div>

							<div class="border-t border-color pt-4 mt-4">
								<label for="opennessRate" class="block text-sm font-medium text-gray-700">Ouverture du Labyrinthe: <span id="opennessRateValue" class="font-bold accent-color">0%</span></label>
								<input id="opennessRate" type="range" min="0" max="100" step="5" value="0" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Plus la valeur est élevée, plus le labyrinthe aura de boucles et de chemins.</p>
							</div>

							<div class="border-t border-color pt-4 mt-4">
								<label for="mazeSize" class="block text-sm font-medium text-gray-700">Taille du Labyrinthe: <span id="mazeSizeValue" class="font-bold accent-color">21x21</span></label>
								<input id="mazeSize" type="range" min="5" max="101" step="2" value="21" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p id="mazeSizeInfo" class="text-xs text-gray-500 mt-1">Définit la largeur et la hauteur de la grille du labyrinthe.</p>
							</div>

							<div class="border-t border-color pt-4 mt-4">
								<label for="seedInput" class="block text-sm font-medium text-gray-700">Graine de Génération (Seed):</label>
								<div class="flex items-center space-x-2">
									<input type="text" id="seedInput" value="" placeholder="Laissez vide pour aléatoire" class="flex-1 p-2 border border-gray-300 rounded-lg focus:ring-accent-color focus:border-accent-color">
									<button id="randomSeedBtn" class="btn-secondary px-3 py-2 text-sm rounded-lg transition-colors duration-200">Graine Aléatoire</button>
								</div>
								<p class="text-xs text-gray-500 mt-1">Utilisez une graine spécifique pour générer le même labyrinthe de manière reproductible.</p>
							</div>
							
							<div id="drawingTools" class="hidden border-t border-color pt-4 mt-4">
								<label class="block text-sm font-medium text-gray-700">Outils de Dessin:</label>
								<div class="flex space-x-2 mt-2">
									<button id="drawWallBtn" class="btn-primary w-full py-2 px-4 rounded-lg transition-colors duration-200" data-mode="wall">
										Dessiner un mur
									</button>
									<button id="eraseWallBtn" class="btn-secondary w-full py-2 px-4 rounded-lg transition-colors duration-200" data-mode="path">
										Effacer un mur
									</button>
								</div>
								<button id="clearMazeBtn" class="btn-secondary w-full py-2 px-4 rounded-lg transition-colors duration-200 mt-2">
									Tout effacer
								</button>
								<p class="text-xs text-gray-500 mt-1">Cliquez sur le canevas pour dessiner ou effacer des murs.</p>
							</div>

							<button id="generateBtn" class="w-full btn-secondary font-bold py-2 px-4 rounded-lg transition-colors duration-200">Générer un Labyrinthe</button>
						</div>
					</div>
				</div>

				<div id="mazeContainer" class="order-2 md:order-1 md:col-start-1 lg:order-2 lg:col-start-auto">
					<div class="bg-white p-4 rounded-lg shadow-md border border-color">
						<canvas id="mazeCanvas" class="w-full h-auto aspect-square rounded"></canvas>
					</div>
				   <div id="status-message" class="text-center mt-4 font-medium text-gray-700 h-6"></div>
				</div>

				<div id="solutionPanel" class="order-3 md:order-3 md:col-start-2 lg:order-3 lg:col-start-auto">
					<div class="control-panel-bg p-6 rounded-lg shadow-md border border-color sticky top-8">
						<h2 class="text-xl font-bold mb-4 text-gray-800">Recherche de Solution (Algorithme Génétique)</h2>
						<div class="space-y-6 md:max-h-[calc(100vh-200px)] md:overflow-y-auto overflow-y-visible">
							<div>
								<label for="populationSize" class="block text-sm font-medium text-gray-700">Taille Population: <span id="populationSizeValue" class="font-bold accent-color">100</span></label>
								<input id="populationSize" type="range" min="50" max="1000" step="5" value="100" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Nombre d'individus (chemins) dans chaque génération de l'algorithme génétique.</p>
							</div>

							<div>
								<label for="generations" class="block text-sm font-medium text-gray-700">Générations: <span id="generationsValue" class="font-bold accent-color">50</span></label>
								<input id="generations" type="range" min="10" max="1000" step="5" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Nombre d'itérations d'évolution pour trouver une solution.</p>
							</div>

							<div>
								<label for="mutationRate" class="block text-sm font-medium text-gray-700">Taux de Mutation: <span id="mutationRateValue" class="font-bold accent-color">5%</span></label>
								<input id="mutationRate" type="range" min="1" max="100" step="0.1" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Probabilité qu'un mouvement aléatoire soit introduit dans un chromosome.</p>
							</div>

							<div>
								<label for="tournamentSize" class="block text-sm font-medium text-gray-700">Taille du Tournoi: <span id="tournamentSizeValue" class="font-bold accent-color">5</span></label>
								<input id="tournamentSize" type="range" min="2" max="50" step="1" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Nombre d'individus en compétition pour la sélection.</p>
							</div>

							<div>
								<label for="elitismRate" class="block text-sm font-medium text-gray-700">Taux d'Élitisme: <span id="elitismRateValue" class="font-bold accent-color">10%</span></label>
								<input id="elitismRate" type="range" min="0" max="50" step="0.1" value="10" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Pourcentage des meilleurs individus conservés directement.</p>
							</div>

							<div>
								<label for="pathLengthMultiplier" class="block text-sm font-medium text-gray-700">Longueur Max. du Chemin (Multiplicateur): <span id="pathLengthMultiplierValue" class="font-bold accent-color">4x</span></label>
								<input id="pathLengthMultiplier" type="range" min="1" max="30" step="1" value="4" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Multiplie la taille du labyrinthe pour définir la longueur maximale du chemin.</p>
							</div>

							<div class="border-t border-color pt-4 mt-4">
								<label for="animSpeed" class="block text-sm font-medium text-gray-700">Vitesse d'animation: <span id="animSpeedValue" class="font-bold accent-color">10%</span></label>
								<input id="animSpeed" type="range" min="0" max="2000" step="10" value="20" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
								<p class="text-xs text-gray-500 mt-1">Modifie la vitesse à laquelle est fait le rendu (ne permet pas d'accélerer les calculs).</p>
							</div>

							<button id="solveBtn" class="w-full btn-primary font-bold py-3 px-4 rounded-lg transition-colors duration-200 text-lg">Résoudre</button>
						</div>
					</div>
				</div>
			</div>
			<script src="main.js"></script> 
</body>
</html>
